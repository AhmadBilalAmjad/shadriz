    Credentials({
      credentials: {
        email: {},
        password: { type: "password" },
      },
      authorize: async (credentials) => {
        const email = credentials.email as string;
        const password = credentials.password as string;
        const userRes = await db.query.user.findFirst({
          where: eq(user.email, email),
        });
        if (!userRes) {
          throw new Error("User not found.");
        }
        if (!userRes.password) {
          throw new Error("Password not found.");
        }
        const valid = bcrypt.compareSync(password, userRes.password);
        if (!valid) {
          throw new Error("Invalid password.");
        }
        return userRes;
      },
    })